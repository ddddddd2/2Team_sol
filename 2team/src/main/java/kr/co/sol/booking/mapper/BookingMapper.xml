<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.sol.booking.dao.BookingDAO">
  	
	<insert id="bookingProc" parameterType="bdto" >
	  	<selectKey keyProperty="no" resultType="int" order="BEFORE">
	       SELECT NVL(MAX(no),0)+1 no FROM booking
      	</selectKey>
		
		insert into booking(no,res_no,mem_no,date1,date2,content,price,status) 
		values(#{no},
			   #{res_no},
			   #{mem_no},
			   #{date1},
			   sysdate,
			   #{content},
			   #{price},
			   #{status})
	</insert>
</mapper>